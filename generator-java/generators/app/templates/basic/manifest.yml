applications:
- name: {{#firstAvailable bluemix.server.name appName}}{{/firstAvailable}}
  path: ./{{#has buildType 'maven'}}target{{/has}}{{#has buildType 'gradle'}}build{{/has}}/{{appName}}.zip
  memory: 512M
  timeout: 180
  instances: 1
  buildpack: liberty-for-java
  random-route: true
{{#bluemix}}
{{#server.services}}
  services:
{{/server.services}}
{{#each server.services}}
  - {{this}}
{{/each}}
{{#cloudant}}
env:
  services_autoconfig_excludes: cloudantNoSQLDB=config
{{/cloudant}}
{{#objectStorage}}
env:
  services_autoconfig_excludes: Object-Storage=config
{{/objectStorage}}
{{/bluemix}}
